version: '2'
services:
  db:
    container_name: ms5

    image: "mysql:5"
    ports:
      - "3306:3306"

    networks:
      mynetwork:
        ipv4_address: 172.18.0.22
    environment:
      - MYSQL_ROOT_PASSWORD=pokemon


  app:
    container_name: app
    build: .
    depends_on:
      - db
    ports:
      - "80:80"
    networks:
      mynetwork:
        ipv4_address: 172.18.0.23
    environment:
      - DBUSER=root
      - DBHOST=localhost
      - DBPASSWORD=pokemon

networks:
    mynetwork:
        driver: bridge
        ipam:
          config:
            - subnet: 172.18.0.0/16 
              gateway: 172.18.0.1

